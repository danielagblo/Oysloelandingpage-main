{% extends "admin/base_site.html" %}
{% load i18n static %}

{% block extrastyle %}{{ block.super }}<link rel="stylesheet" type="text/css" href="{% static "admin/css/dashboard.css" %}">{% endblock %}

{% block coltype %}colMS{% endblock %}

{% block bodyclass %}{{ block.super }} dashboard{% endblock %}

{% block breadcrumbs %}{% endblock %}

{% block nav-sidebar %}{% include "admin/nav_sidebar.html" %}{% endblock %}

{% block content %}
<div id="content-main">
    <!-- Welcome Section -->
    <div class="welcome-section" style="background: linear-gradient(135deg, #2563eb, #3b82f6); color: white; padding: 30px; border-radius: 12px; margin-bottom: 30px; text-align: center;">
        <h1 style="margin: 0 0 10px 0; font-size: 2rem;">Welcome to OYSLOE Marketplace Admin</h1>
        <p style="margin: 0; font-size: 1.1rem; opacity: 0.9;">Manage sellers, track analytics, and monitor marketplace activity</p>
    </div>

    <!-- Quick Stats -->
    <div class="quick-stats" style="display: flex; gap: 20px; margin-bottom: 30px; flex-wrap: wrap;">
        <div class="stat-card" style="background: white; border-radius: 8px; box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1); padding: 20px; flex: 1; min-width: 200px; text-align: center; border-left: 4px solid #2563eb;">
            <h3 style="margin: 0; color: #2563eb; font-size: 1.5rem;">{{ app_list.0.models.0.count }}</h3>
            <p style="margin: 5px 0 0 0; color: #6b7280;">Total Sellers</p>
        </div>
        <div class="stat-card" style="background: white; border-radius: 8px; box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1); padding: 20px; flex: 1; min-width: 200px; text-align: center; border-left: 4px solid #f59e0b;">
            <h3 style="margin: 0; color: #f59e0b; font-size: 1.5rem;">{{ app_list.0.models.0.pending_count|default:0 }}</h3>
            <p style="margin: 5px 0 0 0; color: #6b7280;">Pending Review</p>
        </div>
        <div class="stat-card" style="background: white; border-radius: 8px; box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1); padding: 20px; flex: 1; min-width: 200px; text-align: center; border-left: 4px solid #10b981;">
            <h3 style="margin: 0; color: #10b981; font-size: 1.5rem;">{{ app_list.0.models.0.approved_count|default:0 }}</h3>
            <p style="margin: 5px 0 0 0; color: #6b7280;">Approved</p>
        </div>
        <div class="stat-card" style="background: white; border-radius: 8px; box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1); padding: 20px; flex: 1; min-width: 200px; text-align: center; border-left: 4px solid #ef4444;">
            <h3 style="margin: 0; color: #ef4444; font-size: 1.5rem;">{{ app_list.0.models.0.rejected_count|default:0 }}</h3>
            <p style="margin: 5px 0 0 0; color: #6b7280;">Rejected</p>
        </div>
    </div>

    <!-- Main Content Grid -->
    <div class="content-grid" style="display: flex; gap: 30px; flex-wrap: wrap;">
        <!-- Apps Section -->
        <div class="apps-section" style="flex: 2; min-width: 400px;">
            {% if app_list %}
                {% for app in app_list %}
                <div class="app-module" style="background: white; border-radius: 8px; box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1); margin-bottom: 20px; overflow: hidden;">
                    <div class="app-header" style="background: #f8fafc; padding: 15px 20px; border-bottom: 1px solid #e2e8f0;">
                        <h2 style="margin: 0; color: #374151; font-size: 1.1rem;">{{ app.name }}</h2>
                    </div>
                    <div class="app-content" style="padding: 20px;">
                        {% for model in app.models %}
                        <div class="model-item" style="display: flex; justify-content: space-between; align-items: center; padding: 10px 0; border-bottom: 1px solid #f3f4f6;">
                            <div>
                                {% if model.admin_url %}
                                    <a href="{{ model.admin_url }}" style="color: #2563eb; text-decoration: none; font-weight: 500;">{{ model.name }}</a>
                                {% else %}
                                    {{ model.name }}
                                {% endif %}
                                {% if model.count %}
                                    <span style="color: #6b7280; font-size: 0.875rem;">({{ model.count }})</span>
                                {% endif %}
                            </div>
                            <div class="model-actions" style="display: flex; gap: 10px;">
                                {% if model.admin_url %}
                                    <a href="{{ model.admin_url }}" class="btn-primary" style="padding: 4px 8px; font-size: 0.75rem;">View</a>
                                {% endif %}
                                {% if model.add_url %}
                                    <a href="{{ model.add_url }}" class="btn-success" style="padding: 4px 8px; font-size: 0.75rem;">Add</a>
                                {% endif %}
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endfor %}
            {% else %}
                <p>{% trans "You don't have permission to view or edit anything." %}</p>
            {% endif %}
        </div>

        <!-- Quick Actions Sidebar -->
        <div class="quick-actions-sidebar" style="flex: 1; min-width: 300px;">
            <div class="quick-actions-card" style="background: white; border-radius: 8px; box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1); padding: 20px; margin-bottom: 20px;">
                <h3 style="margin: 0 0 15px 0; color: #374151; font-size: 1.1rem;">Quick Actions</h3>
                <div style="display: flex; flex-direction: column; gap: 10px;">
                    <a href="{% url 'admin:sellers_seller_add' %}" class="btn-primary" style="text-align: center; text-decoration: none; padding: 10px;">Add New Seller</a>
                    <a href="{% url 'admin:sellers_seller_changelist' %}?status__exact=pending" class="btn-warning" style="text-align: center; text-decoration: none; padding: 10px;">Review Pending</a>
                    <a href="{% url 'admin:sellers_analytics_changelist' %}" class="btn-success" style="text-align: center; text-decoration: none; padding: 10px;">View Analytics</a>
                    <a href="{% url 'sellers:admin_dashboard' %}" class="btn-primary" style="text-align: center; text-decoration: none; padding: 10px;">Dashboard</a>
                </div>
            </div>

            <!-- Recent Activity -->
            <div class="recent-activity-card" style="background: white; border-radius: 8px; box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1); padding: 20px;">
                <h3 style="margin: 0 0 15px 0; color: #374151; font-size: 1.1rem;">Recent Activity</h3>
                <div style="color: #6b7280; font-size: 0.875rem;">
                    <p>• Welcome to OYSLOE Admin Panel</p>
                    <p>• Ready to manage marketplace sellers</p>
                    <p>• Track analytics and performance</p>
                    <p>• Monitor seller applications</p>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
    .welcome-section {
        background: linear-gradient(135deg, #2563eb, #3b82f6);
    }
    
    .stat-card:hover {
        transform: translateY(-2px);
        transition: transform 0.2s ease;
    }
    
    .model-item:hover {
        background-color: #f8fafc;
        border-radius: 6px;
    }
    
    .model-item:last-child {
        border-bottom: none;
    }
    
    .btn-primary,
    .btn-success,
    .btn-warning {
        border-radius: 6px;
        font-weight: 500;
        transition: all 0.2s ease;
    }
    
    .btn-primary:hover {
        background: #1d4ed8;
        transform: translateY(-1px);
    }
    
    .btn-success:hover {
        background: #059669;
        transform: translateY(-1px);
    }
    
    .btn-warning:hover {
        background: #d97706;
        transform: translateY(-1px);
    }
    
    @media (max-width: 768px) {
        .quick-stats {
            flex-direction: column;
        }
        
        .content-grid {
            flex-direction: column;
        }
        
        .apps-section,
        .quick-actions-sidebar {
            min-width: 100%;
        }
    }
</style>
{% endblock %} 